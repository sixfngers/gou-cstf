package com.davidcaneso.display.layout{	import flash.display.DisplayObject;	import flash.display.Sprite;	public class Grid extends Sprite	{		//properties		protected var _gridItemList:Array;		private var _spacerX:int;		private var _spacerY:int;		private var _rowLimit:int;		private var _buildHorizontal:Boolean;		private var _fixedItemSize:Boolean;		//constructor		public function Grid(itemList:Array,xOffset:int,yOffset:int,rowLimit:int=0,fixedItemSize:Boolean=false,buildHorizontalRows:Boolean=true):void		{			super();			_spacerX = xOffset;			_spacerY = yOffset;			_rowLimit = rowLimit;			_buildHorizontal = buildHorizontalRows;			_gridItemList = itemList;			_fixedItemSize = fixedItemSize;			_createGrid();		}		//public methods		public function destroy():void		{			_gridItemList = null;		}		public function addGridItem(item: * ,recreateGrid:Boolean=false):void		{			_gridItemList.push(item);			if (recreateGrid)			{				_createGrid();			}		}				public function createGridFromExistingItems():void		{			_createGrid()		}		//private methods		private function _createGrid():void		{			var xpos:int = 0;			var ypos:int = 0;			var iLimit:int = _gridItemList.length;			var counter:int = -1;			var rowSize:int = 0;			var item:DisplayObject;			if (_fixedItemSize)			{				if (_buildHorizontal)				{					rowSize = _spacerY;				}				else				{					rowSize = _spacerX;				}			}			for (var i:int = 0; i < iLimit; i++)			{				counter++;				item = _gridItemList[i];				item.x = xpos;				item.y = ypos;				if (_buildHorizontal)				{					if (_fixedItemSize)					{						xpos +=  _spacerX;					}					else					{						xpos = item.x + item.width + _spacerX;						if (item.height > rowSize)						{							rowSize = item.height;						}					}				}				else				{					if (_fixedItemSize)					{						ypos +=  _spacerY;					}					else					{						ypos = item.y + item.height + _spacerY;						if (item.width > rowSize)						{							rowSize = item.width;						}					}				}				if ((counter >= (_rowLimit - 1)))				{					if (_buildHorizontal)					{						ypos +=  _spacerY;						if (! _fixedItemSize)						{							ypos +=  rowSize;						}						xpos = 0;					}					else					{						xpos +=  _spacerX;						if (! _fixedItemSize)						{							xpos +=  rowSize;						}						ypos = 0;					}					counter = -1;					if (! _fixedItemSize)					{						rowSize = 0;					}				}			}		}	}}