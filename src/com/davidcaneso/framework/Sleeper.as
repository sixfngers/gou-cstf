package com.davidcaneso.framework {	import com.davidcaneso.events.framework.ExternalLinkEvent;	import com.davidcaneso.events.framework.SleeperEvent;import com.davidcaneso.singletons.StageReference;import com.davidcaneso.singletons.XMLData;	import flash.display.MovieClip;	public class Sleeper extends ActiveSiteElement	{		//properties		protected var _isActive:Boolean;		//constructor		public function Sleeper()		{			super();			_className = 'Sleeper';			_isActive = false;			_devSetupType = DevelopmentEnvironment.SLEEPER_EVENT_TYPES;			_devSectionNumber = -1;			_devConfigFile = '../../assets/data/siteConfig.xml';		}		//public methods		public function get isActive():Boolean		{			return _isActive;		}		override public function destroy():void		{			//remove all listeners and stop all timers			classTrace('destroy');			_isActive = false;			stage.removeEventListener(ExternalLinkEvent.LINK_ATTEMPT,activateSleeper);			super.destroy();		}		//mandatory override methods		override protected function setup():void		{			StageReference.instance.stage.addEventListener(ExternalLinkEvent.LINK_ATTEMPT,activateSleeper);		}		protected function animateIn():void		{		}		protected function animateOut():void		{		}		// protected methods		override protected function init():void		{			classTrace('init');			if (! _dev)			{				_top = MovieClip(stage.getChildAt(0));				_xml = XMLList(XMLData.instance.sitemap.sleeper);			}			super.init();		}		protected function activateSleeper(e:ExternalLinkEvent):void		{			stage.dispatchEvent(new SleeperEvent(SleeperEvent.SLEEPER_ACTIVATED));			animateIn();		}		protected function deactivateSleeper():void		{			stage.dispatchEvent(new SleeperEvent(SleeperEvent.SLEEPER_DEACTIVATED));			animateOut();		}	}}