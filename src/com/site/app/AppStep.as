package com.site.app{	//	importsimport com.davidcaneso.events.framework.SiteManagerEvent;import com.davidcaneso.framework.SiteManager;import com.davidcaneso.singletons.StageReference;import com.davidcaneso.singletons.XMLData;import com.davidcaneso.sound.events.SoundFxEvent;import com.davidcaneso.text.DynamicTextField;import com.greensock.TweenMax;import com.greensock.easing.Quad;import com.greensock.plugins.MotionBlurPlugin;import com.greensock.plugins.TweenPlugin;import flash.display.MovieClip;import flash.display.Sprite;import flash.events.Event;import flash.events.MouseEvent;TweenPlugin.activate([MotionBlurPlugin]);public class AppStep extends Sprite	{		//	properties        protected var apiBaseUrl:String;        protected var devMode:Boolean;		protected var _exitEvent:String;        protected var _exitEventParam:String;		protected var _stepNumber:DynamicTextField;				//	constructor		public function AppStep(devMode:Boolean = false):void		{            apiBaseUrl = String(XMLData.instance.config.@apibaseurl);			this.alpha = 0;			this.visible = false;        }				public function animateIn():void		{            _exitEvent = '';            _exitEventParam = '';			this.alpha = 1;			this.visible = true;						StageReference.instance.stage.addEventListener(SiteManagerEvent.SITE_STATE_UPDATE, handleSiteStateUpdate);		}				protected function _animateInComplete():void {}				protected function handleSiteStateUpdate(e:SiteManagerEvent):void		{			switch(e.siteState)			{				case SiteManager.SLEEP_STATE:					sleep();					break;					case SiteManager.WAKE_STATE:					wake();					break;			}		}				protected function sleep():void	{}		protected function wake():void 	{}				protected function _handleNextStepClick(e:Event):void		{			trace('_handleNextStepClick');			_exitEvent = AppStepEvent.NEXT_STEP_EVENT_TYPE;			_animateOut();		}				protected function _handlePrevStepClick(e:Event):void		{			trace('_handlePrevStepClick');			_exitEvent = AppStepEvent.PREV_STEP_EVENT_TYPE;			_animateOut();						//StageReference.instance.stage.dispatchEvent(new SoundFxEvent(SoundFxEvent.SOUND, 'crap'))		}				protected function _animateOut():void		{			StageReference.instance.stage.removeEventListener(SiteManagerEvent.SITE_STATE_UPDATE, handleSiteStateUpdate);		}				protected function _animateOutComplete():void		{			trace('_animateOutComplete');			this.alpha = 0;			this.visible = false;            trace('_exitEvent '+_exitEvent);            var e:AppStepEvent = new AppStepEvent(_exitEvent);                e.param = _exitEventParam;			dispatchEvent(e);		}			}	}