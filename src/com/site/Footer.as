package com.site{    import com.davidcaneso.display.drawing.SquareArea;    import com.davidcaneso.events.framework.SiteManagerEvent;    import com.davidcaneso.framework.ActiveSiteElement;    import com.davidcaneso.framework.DevelopmentEnvironment;import com.davidcaneso.framework.SimpleLink;import com.davidcaneso.framework.SiteManager;import com.davidcaneso.singletons.RuntimeAssets;import com.davidcaneso.singletons.StageReference;	import com.davidcaneso.singletons.XMLData;    import com.davidcaneso.singletons.tracking.google.SiteTracking;    import com.davidcaneso.text.DynamicTextField;    import com.greensock.*;    import com.greensock.easing.*;    import com.site.footer.AppInfoPanel;    import com.site.footer.DownloadAppButton;    import com.site.footer.ExperienceButton;    import flash.display.*;    import flash.events.*;    [SWF(backgroundColor=0x000000, frameRate=30, width=1024, height=768)]	public class Footer extends ActiveSiteElement	{		private var _footerOffset:int = 708;				private var _stageContent:MovieClip;		private var _container:Sprite;		private var _bg:SquareArea;		private var _footerImageBitmap:Bitmap;		private var _footerType:DynamicTextField;        private var _footerLeft:MovieClip;        private var _footerRight:MovieClip;        private var _footerRightContent:MovieClip;		public function Footer()		{			_className = 'Footer';			_devConfigFile = '../../assets/data/siteConfig.xml';			_devSetupType		= DevelopmentEnvironment.INITIAL_EVENT_TYPES;			_devSectionNumber 	= -1;			_showTraces 		= false;						//	uncomment the _showTraces var on the line below to activate traces for this section			_showTraces = true;		}				override public function destroy():void		{			super.destroy()		}				//	private and protected methods		override protected function setup():void		{			trace('setup');			_xml = XMLData.instance.sitemap.footer;									_container = new Sprite();			_container.y = _footerOffset;            _container.tabChildren = false;            _bg = new SquareArea(100, 60, 0x000000);			            _footerLeft = new MovieClip();            _footerLeft.addChild(new footerLeftContent());            _footerRightContent = new footerRightContent();            var links:Array = [      _footerRightContent.contactButton                                    ,_footerRightContent.filmRatingButton                                    ,_footerRightContent.mpaaButton                                    ,_footerRightContent.privacyButton                                    ,_footerRightContent.termsButton                                ];            for each(var link:MovieClip in links)            {                link.tabEnabled = false;                link.buttonMode = true;                link.mouseChildren = false;                link.addEventListener(MouseEvent.CLICK, _handleLinkInteract);            }            _footerRight = new MovieClip();            _footerRight.addChild(_footerRightContent);            _container.addChild(_bg);            _container.addChild(_footerLeft);            _container.addChild(_footerRight);			addChild(_container);			handleResize();			stage.addEventListener(Event.RESIZE, handleResize)		}        private function _handleLinkInteract(e:MouseEvent):void        {            var mc:footerRightContent = _footerRightContent as footerRightContent;            var linkUrl:String;            switch(e.target)            {                case mc.contactButton:                        linkUrl = 'http://www.universalstudios.com/contact_form.php';                    break;                case mc.termsButton:                    linkUrl = 'http://www.universalpictures.com/legal/index.html';                    break;                case mc.privacyButton:                    linkUrl = 'http://www.nbcuni.com/privacy/';                    break;                case mc.mpaaButton:                    linkUrl = 'http://www.mpaa.org/';                    break;                case mc.filmRatingButton:                    linkUrl = 'http://filmratings.com/';                    break;            }            SimpleLink.linkOut(linkUrl);        }						override protected function handleSiteStateUpdate(e:SiteManagerEvent):void		{			switch(e.siteState){				case SiteManager.INITIAL_ANIMATION_STATE:					animateIn();					break;					case SiteManager.SLEEP_STATE:					sleep();					break;					case SiteManager.WAKE_STATE:					wake();					break;			}		}						private function animateIn():void		{			classTrace('hit animateIn');		}				private function animateInComplete():void		{			classTrace('animateInComplete');			//stage.dispatchEvent(new SiteManagerEvent(SiteManagerEvent.INITIAL_ANIMATION_COMPLETE, _top.siteState, _top.activeSectionNumber, _top.nextSectionNumber))		}		protected override function sleep():void		{			classTrace('hit sleep');		}				protected override function wake():void		{			classTrace('hit wake');		}				private function handleResize(e:Event = null):void		{            var s:Stage = StageReference.instance.stage;            var w:int = s.stageWidth;			var h:int = s.stageHeight;            			_bg.width = w;			_bg.height = int((h - _footerOffset));            _footerLeft.x = int((w - 1024)* .5);            _footerRight.x = int((w + 1024)* .5);		}	}	}