/** * Created with IntelliJ IDEA. * User: work * Date: 12/7/13 * Time: 1:29 PM * To change this template use File | Settings | File Templates. */package com.site.ui.characterModelRotation{    import flash.display.MovieClip;    public class CharacterTimelineRotation extends MovieClip	{		public var visual:MovieClip;		protected var rotationSpeed:int = 2;		private var _initialFrame:int;		private var _initialFramePercentage:int;        public function CharacterTimelineRotation()		{//            _rotationTimer = new Timer(40);//            _rotationTimer.addEventListener(TimerEvent.TIMER, _rotationTimerTick);            this.gotoAndStop('initialFrame');			_initialFrame = currentRotationFrame;			_initialFramePercentage = currentRotationPercentage();            trace('initial rotation frame ',_initialFrame, ' initial rotation frame percentage ',_initialFramePercentage);		}        public function currentRotationPercentage():int        {            return ((currentRotationFrame / totalRotationFrames) * 100);        }		public function rotateChar(direction:int):void		{			var nextFrameNumber:int = currentRotationFrame + direction;			var totalFrames:int = totalRotationFrames;			if(direction > 0)			{				if(nextFrameNumber >= totalFrames - rotationSpeed)					nextFrameNumber = totalFrames - rotationSpeed;			}			else			{				if(nextFrameNumber <= 1)					nextFrameNumber = 1;			}			this.gotoAndStop(nextFrameNumber);//			trace('char is now rotated to ',int((currentRotationFrame / totalRotationFrames) * 100),currentRotationFrame );		}		public function rotateCharToPercent(percent:int):void		{			var totalFrames:int = totalRotationFrames;			var frameAtPercent:int = int((percent * totalFrames) / 100) ;			if(frameAtPercent <= 1)				frameAtPercent = 1;			else if(frameAtPercent >= totalFrames - 1)				frameAtPercent = totalFrames;            //trace('frameAtPercent ',frameAtPercent);			this.gotoAndStop(frameAtPercent);		}		public function get currentRotationFrame():int		{			return this.currentFrame;		}		public function get totalRotationFrames():int		{			return this.totalFrames;		}        public function get initialFramePercentage():int        {            return _initialFramePercentage;        }    }}